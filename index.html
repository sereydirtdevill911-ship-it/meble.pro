<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Konfigurator PRO 2.2</title>

<style>
body{font-family:Arial;background:#eef1f5;margin:0;padding:20px;}
.container{max-width:800px;margin:auto;background:#fff;padding:20px;border-radius:12px;box-shadow:0 5px 20px rgba(0,0,0,0.1);}
h1{background:#1f2d3d;color:white;padding:15px;border-radius:8px;text-align:center;}
label{font-weight:bold;}
select,input{width:100%;padding:8px;margin:6px 0 14px;border-radius:6px;border:1px solid #ccc;}
button{width:100%;padding:10px;margin-top:8px;border:none;border-radius:6px;font-weight:bold;color:white;cursor:pointer;}
.primary{background:#2f5bd3;}
.secondary{background:#777;}
.danger{background:#c0392b;}
table{width:100%;border-collapse:collapse;margin-top:15px;}
th,td{border:1px solid #ddd;padding:6px;text-align:left;font-size:14px;}
th{background:#f0f0f0;}
</style>
</head>
<body>

<div class="container">
<h1>Konfigurator Mebli PRO 2.2</h1>

<label>Typ korpusu</label>
<select id="type" onchange="autoLogic()">
<option>Dolna</option>
<option>Dolna GOLA</option>
<option>Wisząca</option>
<option>Słupek</option>
<option>Piekarnik</option>
<option>Zlew</option>
</select>

<label>Konstrukcja</label>
<select id="config" onchange="autoLogic()">
<option>Drzwi</option>
<option>Szuflady</option>
<option>Mieszana</option>
</select>

<label>System szuflad</label>
<select id="system">
<option>Antaro</option>
<option>Tandembox</option>
<option>Merivobox</option>
</select>

<label>Typ boków szuflady</label>
<select id="drawerType">
<option value="N">N</option>
<option value="M" selected>M</option>
<option value="C">C</option>
<option value="D">D</option>
</select>

<label>Wysokość (mm)</label>
<input type="number" id="height" value="720">

<label>Szerokość (mm)</label>
<input type="number" id="width" value="600">

<label>Głębokość (mm)</label>
<input type="number" id="depth" value="560">

<label>Długość prowadnicy</label>
<select id="runner">
<option>450</option>
<option selected>500</option>
<option>550</option>
<option>600</option>
</select>

<label>Ilość szuflad</label>
<input type="number" id="qty" value="3">

<button class="primary" onclick="calculate()">Oblicz</button>
<button class="secondary" onclick="resetForm()">Reset ustawień</button>
<button class="danger" onclick="clearResult()">Wyczyść wynik</button>

<div id="result"></div>

</div>

<script>

function autoLogic(){

let type = document.getElementById("type").value;
let configSelect = document.getElementById("config");
let system = document.getElementById("system");
let runner = document.getElementById("runner");
let qty = document.getElementById("qty");
let depth = document.getElementById("depth");

configSelect.disabled=false;
system.disabled=false;
runner.disabled=false;
qty.disabled=false;
depth.readOnly=false;

if(type==="Wisząca"){
configSelect.value="Drzwi";
configSelect.disabled=true;
system.disabled=true;
runner.disabled=true;
qty.disabled=true;
depth.value=320;
depth.readOnly=true;
}

if(type==="Zlew" || type==="Piekarnik"){
configSelect.value="Drzwi";
configSelect.disabled=true;
system.disabled=true;
runner.disabled=true;
qty.disabled=true;
depth.value=560;
}

if(type==="Dolna" || type==="Dolna GOLA" || type==="Słupek"){
depth.value=560;
}

}

function getSystemOffset(system){
if(system==="Antaro") return 38;
if(system==="Tandembox") return 38;
if(system==="Merivobox") return 42;
return 38;
}

function getBackHeight(type){
if(type==="N") return 68;
if(type==="M") return 84;
if(type==="C") return 148;
if(type==="D") return 196;
return 84;
}

function calculate(){

let h = parseInt(height.value);
let w = parseInt(width.value);
let d = parseInt(depth.value);
let configValue = config.value;
let systemValue = system.value;
let drawerTypeValue = drawerType.value;
let runnerValue = parseInt(runner.value);
let qtyValue = parseInt(qty.value);
let typeValue = type.value;

let light = w - 36;
let offset = getSystemOffset(systemValue);

let output = "<h2>Wynik</h2><table>";
output += "<tr><th>Element</th><th>Wymiar</th></tr>";

output += "<tr><td>Bok</td><td>"+h+" x "+d+" x 18</td></tr>";
output += "<tr><td>Dno korpusu</td><td>"+light+" x "+d+" x 18</td></tr>";
output += "<tr><td>Wieniec</td><td>"+light+" x "+d+" x 18</td></tr>";
output += "<tr><td>Plecy HDF</td><td>"+(w-2)+" x "+(h-2)+" x 3</td></tr>";

if(configValue==="Drzwi"){
let frontW = w - 4;
let frontH = h - 4;
output += "<tr><td>Front</td><td>"+frontW+" x "+frontH+" x 18</td></tr>";
}

if(configValue==="Szuflady"){

let dnoWidth = light - offset;
let dnoDepth = runnerValue;
let backHeight = getBackHeight(drawerTypeValue);
let golaOffset = (typeValue==="Dolna GOLA") ? 50 : 0;

let frontHeight = Math.floor((h - golaOffset - ((qtyValue+1)*3)) / qtyValue) - 4;
let frontWidth = w - 4;

for(let i=1;i<=qtyValue;i++){
output += "<tr><td>Front "+i+"</td><td>"+frontWidth+" x "+frontHeight+" x 18</td></tr>";
output += "<tr><td>Tył "+i+"</td><td>"+dnoWidth+" x "+backHeight+" x 16</td></tr>";
output += "<tr><td>Dno "+i+"</td><td>"+dnoWidth+" x "+dnoDepth+" x 16</td></tr>";
}

output += "<tr><td>Prowadnice</td><td>"+qtyValue+" kpl "+runnerValue+" mm ("+systemValue+")</td></tr>";
}

output += "</table>";

result.innerHTML = output;

}

function resetForm(){
height.value=720;
width.value=600;
depth.value=560;
qty.value=3;
autoLogic();
}

function clearResult(){
result.innerHTML="";
}

autoLogic();

</script>

</body>
</html>
